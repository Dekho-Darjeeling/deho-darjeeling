<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book a Tour | Dekho Darjeeling</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="frontend/assets/css/tour.css">
    <link rel="stylesheet" href="frontend/assets/css/global.css">
    <link rel="stylesheet" href="frontend/assets/css/booking.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        /* Minimal inline styles for new elements; move to CSS later */
        .form-progress { display: flex; justify-content: space-between; margin-bottom: 20px; }
        .progress-step { flex: 1; text-align: center; padding: 10px; border-radius: 5px; background: #f0f0f0; margin: 0 5px; }
        .progress-step.active { background: #007bff; color: white; }
        .form-group { margin-bottom: 20px; opacity: 0; animation: fadeIn 0.5s ease-in-out forwards; }
        .form-group:nth-child(1) { animation-delay: 0.1s; }
        .form-group:nth-child(2) { animation-delay: 0.2s; }
        /* Add more delays as needed */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .error-message { color: red; font-size: 0.9em; display: none; }
        .btn-submit.loading { pointer-events: none; opacity: 0.6; }
        .btn-submit.loading::after { content: ""; display: inline-block; width: 16px; height: 16px; border: 2px solid #fff; border-radius: 50%; border-top-color: transparent; animation: spin 1s linear infinite; margin-left: 10px; }
        @keyframes spin { to { transform: rotate(360deg); } }
        .success-message { display: none; background: #d4edda; color: #155724; padding: 10px; border-radius: 5px; margin-top: 20px; }
        .input-icon input:invalid, .input-icon select:invalid, .input-icon textarea:invalid { border-color: red; }
    </style>
</head>
<body>
    <!-- HEADER -->
    <header class="header sticky">
        <div class="logo"><img src="frontend/assets/images/DekhoDarjeeling_PNG.png" alt="Dekho Darjeeling Logo"></div>
        <nav class="nav-links">
            <a href="index.html">Home</a>
            <a href="hiking.html">Hiking & Trekking</a>
            <a href="tours.html" class="active">Tours</a>
            <a href="gallery.html">Gallery</a>
            <a href="contact.html">Contact</a>
        </nav>
        <div class="mobile-menu-btn" id="menu-btn">
            <i class="fa-solid fa-bars"></i>
        </div>
        <div class="mobile-drawer" id="mobile-drawer">
            <div class="drawer-header">
                <span>Dekho Darjeeling</span>
                <i class="fa-solid fa-xmark" id="drawer-close"></i>
            </div>
            <a href="index.html">Home</a>
            <a href="hiking.html">Hiking & Trekking</a>
            <a href="tours.html" class="active">Tours</a>
            <a href="gallery.html">Gallery</a>
            <a href="contact.html">Contact</a>
        </div>
    </header>

    <!-- HERO -->
    <section class="sub-hero tours-hero" data-animate>
        <h1>Book Your Darjeeling Tour</h1>
        <p>Hand-picked sightseeing experiences with certified local guides</p>
        <a href="https://roshnitravels.in/package" class="btn hero-btn" target="_blank" rel="noopener noreferrer">
            <i class="fa-solid fa-external-link-alt"></i> Explore More Tours & Book
        </a>
    </section>

    <!-- POPULAR TOUR PACKAGES -->
    <section class="packages-section" data-animate>
        <h2>Popular Tour Packages</h2>
        <div class="package-grid">
            <div class="package-card">
                <i class="fa-solid fa-sun package-icon"></i>
                <h3>Tiger Hill Sunrise Tour</h3>
                <p>Witness the famous golden sunrise with Kanchenjunga backdrop.</p>
            </div>
            <div class="package-card">
                <i class="fa-solid fa-leaf package-icon"></i>
                <h3>Tea Garden Experience</h3>
                <p>Visit authentic tea estates, learn processing & taste premium teas.</p>
            </div>
            <div class="package-card">
                <i class="fa-solid fa-building-columns package-icon"></i>
                <h3>City Heritage Tour</h3>
                <p>Explore colonial landmarks, ropeway, monasteries & museums.</p>
            </div>
        </div>
        <a href="https://roshnitravels.in/package" class="btn explore-btn" target="_blank" rel="noopener noreferrer">
            <i class="fa-solid fa-external-link-alt"></i> Explore More Tours & Book
        </a>
    </section>

    <!-- BOOKING FORM -->
    <section class="booking-section">
        <h2>Tour Booking Form</h2>
        <div class="form-progress">
            <div class="progress-step active" data-step="1">Personal Info</div>
            <div class="progress-step" data-step="2">Tour Details</div>
            <div class="progress-step" data-step="3">Additional Info</div>
        </div>
<form action="submit-booking.php" method="POST" autocomplete="on" class="booking-form">

    <!-- REQUIRED FOR PHP (NO UI IMPACT) -->
    <input type="hidden" name="form-name" value="tour-booking">

    <p hidden>
        <label>Don’t fill this out:
            <input name="bot-field">
        </label>
    </p>

    <!-- STEP 1 -->
    <fieldset class="form-section" data-section="1">
        <legend>Step 1: Personal Information</legend>

        <div class="form-group">
            <label for="name">Full Name *</label>
            <div class="input-icon">
                <i class="fa-solid fa-user"></i>
                <input type="text"
                       name="name"
                       id="name"
                       placeholder="Your full name"
                       autocomplete="name"
                       required>
            </div>
        </div>

        <div class="form-group">
            <label for="email">Email *</label>
            <div class="input-icon">
                <i class="fa-solid fa-envelope"></i>
                <input type="email"
                       name="email"
                       id="email"
                       placeholder="your@email.com"
                       autocomplete="email"
                       required>
            </div>
        </div>

        <div class="form-group">
            <label for="phone">Phone *</label>
            <div class="input-icon">
                <i class="fa-solid fa-phone"></i>
                <input type="tel"
                       name="phone"
                       id="phone"
                       placeholder="Mobile number"
                       autocomplete="tel"
                       pattern="[0-9]{10}"
                       required>
            </div>
        </div>
    </fieldset>

    <!-- STEP 2 -->
    <fieldset class="form-section" data-section="2">
        <legend>Step 2: Tour Details</legend>

        <div class="form-group">
            <label for="package">Select Tour Package *</label>
            <div class="input-icon">
                <i class="fa-solid fa-map-location-dot"></i>
                <select name="package" id="package" required>
                    <option value="">Choose One</option>
                    <option>Tiger Hill Sunrise Tour</option>
                    <option>City Heritage Tour</option>
                    <option>Tea Garden Tour</option>
                    <option>Mirik Lake Tour</option>
                    <option>Custom Tour</option>
                </select>
            </div>
        </div>

        <div class="form-group">
            <label for="date">Preferred Date *</label>
            <div class="input-icon">
                <i class="fa-solid fa-calendar-days"></i>
                <input type="date"
                       name="date"
                       id="date"
                       required>
            </div>
        </div>

        <div class="form-group">
            <label for="people">Number of People *</label>
            <div class="input-icon">
                <i class="fa-solid fa-users"></i>
                <!-- IMPORTANT FIX: name="persons" -->
                <input type="number"
                       min="1"
                       name="persons"
                       id="people"
                       required>
            </div>
        </div>
    </fieldset>

    <!-- STEP 3 -->
    <fieldset class="form-section" data-section="3">
        <legend>Step 3: Additional Information</legend>

        <div class="form-group full">
            <label for="pickup">Pickup Location</label>
            <div class="input-icon">
                <i class="fa-solid fa-location-dot"></i>
                <input type="text"
                       name="pickup"
                       id="pickup"
                       autocomplete="street-address"
                       placeholder="Hotel / Station / Airport">
            </div>
        </div>

        <div class="form-group full">
            <label for="notes">Additional Notes</label>
            <div class="input-icon textarea-icon">
                <i class="fa-solid fa-pen"></i>
                <textarea name="notes"
                          id="notes"
                          placeholder="Any special requests..."></textarea>
            </div>
        </div>
    </fieldset>

    <!-- SUBMIT -->
    <button type="submit" class="btn-submit" onclick="handleSubmit(event)">
                <i class="fa-solid fa-paper-plane"></i> Submit Booking
            </button>

    <div class="success-message" id="success-msg">
        <i class="fa-solid fa-check-circle"></i>
        Thank you! Your booking request has been submitted.
    </div>

</form>

    </section>

    <!-- WHAT'S INCLUDED SECTION -->
    <section class="includes-section" data-animate>
        <h2>What’s Included?</h2>
        <ul class="includes-list">
            <li><i class="fa-solid fa-car"></i> Private Vehicle & Driver</li>
            <li><i class="fa-solid fa-user-tie"></i> Licensed Local Guide</li>
            <li><i class="fa-solid fa-shield-halved"></i> On-trip Support & Assistance</li>
            <li><i class="fa-solid fa-camera"></i> Scenic Photography Spots</li>
        </ul>
    </section>

    <!-- REVIEWS -->
    <section class="reviews-section" data-animate>
        <h2>Guest Reviews</h2>
        <div class="review-card">
            <i class="fa-solid fa-quote-left review-quote"></i>
            <p>“Amazing experience! The sunrise tour was breathtaking. Highly recommend!”</p>
            <span>- Maya, Bengaluru</span>
        </div>
        <div class="review-card">
            <i class="fa-solid fa-quote-left review-quote"></i>
            <p>“Friendly guide, comfortable vehicle, great planning. Will book again.”</p>
            <span>- Rohan, Pune</span>
        </div>
    </section>

    <!-- FAQ -->
    <section class="faq-section" data-animate>
        <h2>Frequently Asked Questions</h2>
        <div class="faq">
            <h4><i class="fa-solid fa-question-circle"></i> Can I customize the tour?</h4>
            <p>Yes, customizations are available depending on the schedule.</p>
        </div>
        <div class="faq">
            <h4><i class="fa-solid fa-question-circle"></i> Do you offer pickup?</h4>
            <p>Pickup & drop available from hotels, stations, and bus stand.</p>
        </div>
        <div class="faq">
            <h4><i class="fa-solid fa-question-circle"></i> How early should I book?</h4>
            <p>We recommend booking at least 7 days in advance.</p>
        </div>
    </section>

    <!-- WhatsApp Floating Button -->
<a href="https://wa.me/918388988848?text=Hi%20Dekho%20Darjeeling/Roshni%20Travels!%20I'm%20interested%20in%20your%20tours." 
   target="_blank" 
   rel="noopener noreferrer" 
   class="whatsapp-float" 
   aria-label="Chat with us on WhatsApp">
  <i class="fab fa-whatsapp"></i>
</a>

    <!-- FOOTER -->
    <footer class="footer">
        <p>© 2025 Dekho Darjeeling — Explore The Queen of Hills</p>
    </footer>

    <script src="frontend/assets/js/app.js"></script>
    <script src="frontend/assets/js/animation.js"></script>
  <script>
const form = document.querySelector('.booking-form');
const submitBtn = document.querySelector('.btn-submit');

form.addEventListener('submit', function (e) {
    let isValid = true;

    form.querySelectorAll('[required]').forEach(field => {
        const errorSpan = document.getElementById(field.id + '-error');

        if (!field.checkValidity()) {
            errorSpan.style.display = 'block';
            isValid = false;
        } else {
            errorSpan.style.display = 'none';
        }
    });

    if (!isValid) {
        e.preventDefault();
        return;
    }

    // allow real submission to PHP
    submitBtn.classList.add('loading');
    submitBtn.textContent = 'Submitting...';
});
</script>

</body>
</html>